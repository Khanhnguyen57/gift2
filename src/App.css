@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Pacifico&family=Quicksand:wght@300;400;600&display=swap');

:root {
  --primary-red: #d42426;
  --gold: #ffd700;
  --intro-bg: #050510;
}

body, html {
  margin: 0; padding: 0; height: 100%; width: 100%; overflow: hidden;
  font-family: 'Quicksand', sans-serif;
  background: var(--intro-bg);
}

/* --- INTRO --- */
.morphing-intro {
    position: fixed; inset: 0; background: #050510;
    display: flex; justify-content: center; align-items: center;
    z-index: 9999; cursor: pointer;
}
.morphing-intro canvas { position: absolute; inset: 0; mix-blend-mode: screen; }
.intro-text { position: absolute; bottom: 50px; color: rgba(255,255,255,0.6); animation: pulse 2s infinite; }
.heart-message {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0);
    text-align: center; opacity: 0; transition: all 0.5s ease;
}
.heart-message.show { transform: translate(-50%, -50%) scale(1); opacity: 1; }
.glow-text { color: white; text-shadow: 0 0 10px white, 0 0 20px #ff0040; }
.main-msg { font-family: 'Dancing Script', cursive; font-size: 3rem; }
.sub-msg { font-size: 1.2rem; color: #ffcccc; margin-top: 10px; }

/* --- MAIN CONTENT --- */
.content-fade-in { animation: fadeIn 1s forwards; opacity: 0; }
@keyframes fadeIn { to { opacity: 1; } }

.christmas-wrapper {
    position: relative; width: 100vw; height: 100vh;
    display: flex; justify-content: center; align-items: center;
    /* Ảnh nền tối hơn chút để đỡ chói */
    background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1576072388505-8b86c231d8b3?q=80&w=1600') center/cover;
}

.main-layout {
    position: relative; z-index: 10; display: grid; grid-template-columns: 1fr 1fr;
    gap: 40px; width: 90%; max-width: 1000px; height: 85vh;
}

/* TỐI ƯU HÓA: Giảm blur từ 15px xuống 5px, dùng màu nền đậm hơn */
.glass-card {
    background: rgba(20, 20, 30, 0.6); /* Nền tối bán trong suốt */
    backdrop-filter: blur(8px); /* Giảm độ blur để đỡ lag */
    -webkit-backdrop-filter: blur(8px);
    padding: 30px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.2);
    text-align: center; color: white; display: flex; flex-direction: column; justify-content: center;
}

.title { font-family: 'Pacifico', cursive; font-size: 2.5rem; color: var(--gold); margin: 0; text-shadow: 0 2px 5px rgba(0,0,0,0.5); }
.wishes { margin: 15px 0; font-size: 1.1rem; line-height: 1.5; }

.gift-btn {
    background: linear-gradient(45deg, #d42426, #ff4757); border: none;
    padding: 12px 30px; color: white; border-radius: 50px;
    font-size: 1.1rem; cursor: pointer; margin-top: 10px;
    transition: transform 0.2s;
    box-shadow: 0 5px 15px rgba(212, 36, 38, 0.4);
}
.gift-btn:active { transform: scale(0.95); }

/* PHOTO */
.gallery-section { display: flex; flex-direction: column; align-items: center; justify-content: center; }
.polaroid-stack { position: relative; width: 220px; height: 260px; }
.polaroid {
    position: absolute; background: white; padding: 10px 10px 30px 10px;
    box-shadow: 0 5px 10px rgba(0,0,0,0.3); transition: transform 0.3s;
    transform: rotate(var(--rotation)); width: 100%; box-sizing: border-box;
}
.polaroid:hover { transform: scale(1.1) rotate(0deg) !important; z-index: 100 !important; }
.polaroid img { width: 100%; height: 200px; object-fit: cover; background: #eee; }

/* SNOWFLAKE: Đơn giản hóa */
.snowflake { position: absolute; color: white; top: -20px; pointer-events: none; }

/* SURPRISE BOX (QUÀ TẶNG) */
.surprise-overlay {
    position: fixed; inset: 0; background: rgba(0,0,0,0.85); /* Nền đen mờ thay vì blur */
    z-index: 2000; display: flex; justify-content: center; align-items: center;
    animation: fadeIn 0.3s ease-out;
}
.surprise-box {
    background: white; color: #333; padding: 30px; border-radius: 15px;
    text-align: center; width: 300px; position: relative;
    animation: popUp 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
.surprise-box h2 { color: #d42426; margin: 0 0 10px 0; font-family: 'Pacifico', cursive; }
.surprise-box p { font-size: 1.1rem; }

/* PHÁO HOA CSS (Nhẹ hơn GIF/Canvas) */
.firework-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; overflow: hidden; }
.firework { position: absolute; width: 5px; height: 5px; border-radius: 50%; animation: explode 1s ease-out forwards; }

@keyframes popUp { 0% { transform: scale(0.5); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
@keyframes fall { to { transform: translateY(110vh); } }
@keyframes pulse { 50% { opacity: 0.5; } }
@keyframes explode { 
    0% { transform: scale(1); opacity: 1; box-shadow: 0 0 0 0 var(--c); }
    100% { transform: scale(20); opacity: 0; box-shadow: 0 0 0 20px var(--c); }
}

@media (max-width: 768px) {
    .main-layout { grid-template-columns: 1fr; height: auto; display: flex; flex-direction: column; }
    .polaroid-stack { margin-bottom: 50px; }
}